# 1 索引
## 1.1 问题
> 当数据库表中存在很多条记录，如大于10万条时，查询速度便成为一个问题

## 1.2 分析
> 在字典中查询指定偏旁的汉字时，先查询目录中指定的偏旁位置，在查询指定笔画		的汉字，找到汉字后根据页码找到汉字

> 在书中查询某内容时，首先在目录中查询所需知识点，然后根据目录中提供的页码找到要查询内容，大大缩短了查询时间

## 1.3 解决
> 可以建立类似目录的数据库对象，实现数据快速查询，这就是索引


## 1.4 索引的作用
> 在数据库中用来加速对表的查询,通过使用快速路径访问方法快速定位数据,减少了磁盘的I/O

> 索引创建以后，在用户撤销它之前并不会用到该索引的名字，但是索引在用户查询时会自动起作用

## 1.5 索引的创建有两种情况
### 1.5.1 自动
> 当在表上定义一个PRIMARY KEY 或者UNIQUE

> 约束条件时,Oracle数据库自动创建一个对应的唯一索引.
### 1.5.2 手动
> 用户可以创建索引以加速查询

## 1.6 如何使用
> 可以在一列或者多列上创建索引.
### 1.6.1 创建索引

    CREATE INDEX index_name   ON table (column[, column]...);
 
 **举例：**

下面的索引将会提高对EMP表基于 ENAME 字段的查询速度
       
    CREATE INDEX   emp_last_name_idx
    ON emp (ename)

### 1.6.2 删除索引
    DROP INDEX index ON table;
 **举例：**
 
删掉 UPPER_LAST_NAME_IDX 索引.

    DROP INDEX upper_last_name_idx;

## 1.7 开发中使用索引的要点：
1. 索引数据可能要占用大量的存储空间。
2. 索引改善检索操作的性能，但降低数据插入、修改和删除的性能。在执行这些操作时，DBMS必须动态地更新索引。
3. 限制表中索引的数目。索引越多，在修改表时对索引做出修改的工作量越大

4. 并非所有数据都适合于索引。唯一性不好的数据（如省）从索引得到的好处不比具有更多可能值的数据（如姓名）从索引得到的好处多
5. 索引用于数据过滤和数据排序。如果你经常以某种特定的顺序排序数据，则该数据可能是索引的备选。
6. 可以在索引中定义多个列（如省加城市），这样的索引只在以省加城市的顺序排序时有用。如果想按城市排序，则这种索引没有用处

# 2 视图（View）
## 2.1 定义
> 视图是从若干基本表和（或）其他视图构造出来的虚表

> 在创建一个视图时，只是存放的视图的定义，也即是动态检索数据的查询语句，而并不存放视图对应的数据

> 在用户使用视图时才去求相对应的数据。所以视图被称作“虚表”

## 2.2 作用

> 可以限制对数据的访问，可以给用户授予表的特定部分的访问权限而不是整个表的访问权限

> 可以使复杂的查询变的简单。在编写查询后，可以方便地重用它而不必知道他的基本查询细节

> 提供了对相同数据的不同显示

## 2.3 创建视图
    CREATE [OR REPLACE] VIEW view
    [(alias[, alias]...)]
    AS subquery

## 2.4 查询视图

- select * from viewname
- 不需要再写完全的Select查询语句

## 2.5 删除视图
    Drop view viewname；

>   删掉视图不会导致数据丢失，因为视图是基于数据库表的一个查

## 2.6 总结
- 视图是一个虚拟表，对应一条SELECT语句，可将它的输出看作一个表
- 视图不存储数据
- 改变基本表的数据，也会反应到基于该表的视图上
- 视图可以基于基本表的若干行，若干列
- 视图可以基于一个表、多个表，甚至是基于其他的视图

- 使用视图可以提高数据访问的安全性，只显示指定的行列数据
- 使用视图可以降低查询的难度，定制数据显示

- 可以对视图进行CRUD操作，实际上是对基本表的CRUD操作
- 如果视图对应多个表，一般不允许添加操作